<!doctype html>
<html>
  <title>Perfect maze generator</title>
  <script src="maze.js"></script>
  <style>input.slider { position:relative; top:2px; width: 80px }</style>
  
  Perfect maze generator by <a href="https://casual-effects.com">Casual Effects</a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<a href="jsmaze.js">Source Code</a>]
  <br><br>
  <input type="checkbox" id="wrap" autocomplete="off" onchange="regenerate()"><label for="wrap">Wrap</label>
  <span style="padding-left:50px">Imperfection</span> <input class="slider" type="range" min="0" max="20" value="0" autocomplete="off" onchange="regenerate()" id="imperfection">
  <span style="padding-left:50px">Hall Width</span> <input class="slider" type="range" min="1" max="4" value="3" autocomplete="off" onchange="regenerate()" id="hallWidth">
  <span style="padding-left:50px">Wall Width</span> <input class="slider" type="range" min="1" max="4" value="1" autocomplete="off" onchange="regenerate()" id="wallWidth">
  
  <pre style="line-height:75%; transform-origin: 0 0" id="display"></pre>
  
  
  <script>
      function regenerate() {
         let wrap = document.getElementById("wrap").checked !== false;
         let imperfection = parseInt(document.getElementById("imperfection").value) / 100;
         let m = makeMaze(96, 64, wrap, imperfection);

         let hallWidth = parseInt(document.getElementById("hallWidth").value);
         let wallWidth = parseInt(document.getElementById("wallWidth").value);
         let display = document.getElementById("display");
         display.style.transform = "scale(" + (1.5 / (hallWidth + wallWidth)) + ")";
         display.innerHTML = mazeToString(m, hallWidth, wallWidth);
      }
      regenerate();
  </script>
</html>
